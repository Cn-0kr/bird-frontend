{"version":3,"file":"PosterPage.js","sources":["pages/PosterPage/PosterPage.vue","../../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvUG9zdGVyUGFnZS9Qb3N0ZXJQYWdlLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"poster-container\">\r\n\t\t<!-- 顶部返回栏 -->\r\n\t\t<view class=\"top-bar\">\r\n\t\t\t<view class=\"back-btn\" @click=\"goBack\">\r\n\t\t\t\t<text>返回</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 帖子内容 -->\r\n\t\t<view class=\"poster-content\" v-if=\"posterData\">\r\n\t\t\t<image :src=\"posterData.imageUrl\" mode=\"widthFix\" class=\"poster-image\"></image>\r\n\t\t\t\r\n\t\t\t<view class=\"info-section\">\r\n\t\t\t\t<view class=\"description\">\r\n\t\t\t\t\t{{ posterData.description }}\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- 添加点赞区域 -->\r\n\t\t\t\t<view class=\"interaction-bar\">\r\n\t\t\t\t\t<view class=\"like-btn\" @click=\"handleLike\">\r\n\t\t\t\t\t\t<text class=\"like-count\" :class=\"{ 'liked': posterData.isLiked }\">\r\n\t\t\t\t\t\t\t{{ posterData.likes }}\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t<text class=\"like-text\" :class=\"{ 'liked': posterData.isLiked }\">\r\n\t\t\t\t\t\t\t{{ posterData.isLiked ? '已点赞' : '点赞' }}\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- 评论列表 -->\r\n\t\t\t\t<view class=\"comments-section\">\r\n\t\t\t\t\t<text class=\"section-title\">评论 ({{ comments.length }})</text>\r\n\t\t\t\t\t<view class=\"comments-list\">\r\n\t\t\t\t\t\t<view v-for=\"comment in comments\" :key=\"comment.id\" class=\"comment-item\">\r\n\t\t\t\t\t\t\t<text class=\"comment-text\">{{ comment.content }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 底部评论输入框 -->\r\n\t\t<view class=\"comment-input-container\">\r\n\t\t\t<input \r\n\t\t\t\ttype=\"text\" \r\n\t\t\t\tv-model=\"newComment\"\r\n\t\t\t\tplaceholder=\"写下你的评论...\" \r\n\t\t\t\tclass=\"comment-input\"\r\n\t\t\t/>\r\n\t\t\t<button class=\"send-btn\" @click=\"submitComment\">发送</button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tposterData: null,\r\n\t\t\tcomments: [],\r\n\t\t\tnewComment: ''\r\n\t\t}\r\n\t},\r\n\t\r\n\tonLoad(options) {\r\n\t\tif (options.postId) {\r\n\t\t\tthis.fetchPosterData(options.postId);\r\n\t\t}\r\n\t},\r\n\t\r\n\tmethods: {\r\n\t\tfetchPosterData(postId) {\r\n\t\t\tthis.posterData = {\r\n\t\t\t\tid: postId,\r\n\t\t\t\timageUrl: '/static/posts/bird1.jpg',\r\n\t\t\t\tdescription: '今天在公园拍到的小鸟，真的太可爱了！',\r\n\t\t\t\tlikes: 0,        // 添加点赞数\r\n\t\t\t\tisLiked: false   // 添加点赞状态\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\t// 初始化评论数据\r\n\t\t\tthis.comments = [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 1,\r\n\t\t\t\t\tcontent: '这只鸟太漂亮了！'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 2,\r\n\t\t\t\t\tcontent: '看起来是一只知更鸟呢'\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t},\r\n\t\t\r\n\t\tgoBack() {\r\n\t\t\tuni.navigateBack({\r\n\t\t\t\tdelta: 1\r\n\t\t\t});\r\n\t\t},\r\n\t\t\r\n\t\tsubmitComment() {\r\n\t\t\tif (!this.newComment.trim()) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '请输入评论内容',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.comments.unshift({\r\n\t\t\t\tid: this.comments.length + 1,\r\n\t\t\t\tcontent: this.newComment.trim()\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tthis.newComment = '';\r\n\t\t\t\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '评论成功',\r\n\t\t\t\ticon: 'success'\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// 添加点赞处理方法\r\n\t\thandleLike() {\r\n\t\t\tif (this.posterData) {\r\n\t\t\t\tthis.posterData.isLiked = !this.posterData.isLiked;\r\n\t\t\t\tthis.posterData.likes += this.posterData.isLiked ? 1 : -1;\r\n\t\t\t\t\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: this.posterData.isLiked ? '点赞成功' : '已取消点赞',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.poster-container {\r\n\tmin-height: 100vh;\r\n\tbackground-color: #FFF9E9;\r\n\tpadding-bottom: 60px;\r\n}\r\n\r\n.top-bar {\r\n\tpadding: 16px;\r\n\tbackground-color: #FFF9E9;\r\n\tborder-bottom: 1px solid #eee;\r\n}\r\n\r\n.back-btn {\r\n\tpadding: 8px 12px;\r\n\tbackground: #fff;\r\n\tborder-radius: 4px;\r\n\twidth: fit-content;\r\n}\r\n\r\n.poster-content {\r\n\tpadding: 16px;\r\n}\r\n\r\n.poster-image {\r\n\twidth: 100%;\r\n\tborder-radius: 12px;\r\n}\r\n\r\n.info-section {\r\n\tmargin-top: 16px;\r\n}\r\n\r\n.description {\r\n\tmargin: 12px 0;\r\n\tline-height: 1.5;\r\n}\r\n\r\n.comments-section {\r\n\tmargin-top: 20px;\r\n\tborder-top: 1px solid #eee;\r\n\tpadding-top: 16px;\r\n}\r\n\r\n.section-title {\r\n\tfont-size: 16px;\r\n\tfont-weight: bold;\r\n\tmargin-bottom: 16px;\r\n}\r\n\r\n.comment-item {\r\n\tpadding: 12px 0;\r\n\tborder-bottom: 1px solid #eee;\r\n}\r\n\r\n.comment-text {\r\n\tfont-size: 14px;\r\n\tcolor: #333;\r\n}\r\n\r\n.comment-input-container {\r\n\tposition: fixed;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tdisplay: flex;\r\n\tpadding: 12px;\r\n\tbackground: white;\r\n\tborder-top: 1px solid #eee;\r\n}\r\n\r\n.comment-input {\r\n\tflex: 1;\r\n\theight: 36px;\r\n\tpadding: 0 12px;\r\n\tborder-radius: 18px;\r\n\tbackground: #f5f5f5;\r\n\tmargin-right: 8px;\r\n}\r\n\r\n.send-btn {\r\n\tpadding: 0 16px;\r\n\tbackground: #2EA3B7;\r\n\tcolor: white;\r\n\tborder-radius: 18px;\r\n\tfont-size: 14px;\r\n\tline-height: 36px;\r\n}\r\n\r\n/* 添加点赞相关样式 */\r\n.interaction-bar {\r\n\tdisplay: flex;\r\n\tjustify-content: flex-end;\r\n\tpadding: 12px 0;\r\n\tborder-bottom: 1px solid #eee;\r\n}\r\n\r\n.like-btn {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tgap: 4px;\r\n\tpadding: 6px 12px;\r\n\tborder-radius: 16px;\r\n\tbackground: #f5f5f5;\r\n\tcursor: pointer;\r\n}\r\n\r\n.like-count {\r\n\tfont-size: 14px;\r\n\tcolor: #666;\r\n}\r\n\r\n.like-text {\r\n\tfont-size: 14px;\r\n\tcolor: #666;\r\n}\r\n\r\n.liked {\r\n\tcolor: #ff6b6b;\r\n}\r\n</style>\r\n","import MiniProgramPage from 'D:/sitp项目/miniprogram/bird-frontend/pages/PosterPage/PosterPage.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AAwDA,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,YAAY;AAAA,MACZ,UAAU,CAAE;AAAA,MACZ,YAAY;AAAA,IACb;AAAA,EACA;AAAA,EAED,OAAO,SAAS;AACf,QAAI,QAAQ,QAAQ;AACnB,WAAK,gBAAgB,QAAQ,MAAM;AAAA,IACpC;AAAA,EACA;AAAA,EAED,SAAS;AAAA,IACR,gBAAgB,QAAQ;AACvB,WAAK,aAAa;AAAA,QACjB,IAAI;AAAA,QACJ,UAAU;AAAA,QACV,aAAa;AAAA,QACb,OAAO;AAAA;AAAA,QACP,SAAS;AAAA;AAAA;AAIV,WAAK,WAAW;AAAA,QACf;AAAA,UACC,IAAI;AAAA,UACJ,SAAS;AAAA,QACT;AAAA,QACD;AAAA,UACC,IAAI;AAAA,UACJ,SAAS;AAAA,QACV;AAAA;IAED;AAAA,IAED,SAAS;AACRA,oBAAAA,MAAI,aAAa;AAAA,QAChB,OAAO;AAAA,MACR,CAAC;AAAA,IACD;AAAA,IAED,gBAAgB;AACf,UAAI,CAAC,KAAK,WAAW,QAAQ;AAC5BA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACP,CAAC;AACD;AAAA,MACD;AAEA,WAAK,SAAS,QAAQ;AAAA,QACrB,IAAI,KAAK,SAAS,SAAS;AAAA,QAC3B,SAAS,KAAK,WAAW,KAAK;AAAA,MAC/B,CAAC;AAED,WAAK,aAAa;AAElBA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,MAAM;AAAA,MACP,CAAC;AAAA,IACD;AAAA;AAAA,IAGD,aAAa;AACZ,UAAI,KAAK,YAAY;AACpB,aAAK,WAAW,UAAU,CAAC,KAAK,WAAW;AAC3C,aAAK,WAAW,SAAS,KAAK,WAAW,UAAU,IAAI;AAEvDA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO,KAAK,WAAW,UAAU,SAAS;AAAA,UAC1C,MAAM;AAAA,QACP,CAAC;AAAA,MACF;AAAA,IACD;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtIA,GAAG,WAAW,eAAe;"}