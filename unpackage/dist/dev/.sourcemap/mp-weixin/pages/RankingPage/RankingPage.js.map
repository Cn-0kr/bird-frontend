{"version":3,"file":"RankingPage.js","sources":["pages/RankingPage/RankingPage.vue","../../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvUmFua2luZ1BhZ2UvUmFua2luZ1BhZ2UudnVl"],"sourcesContent":["<template>\n  <div class=\"ranking-container\">\n    <div class=\"bird-item rank-1\">\n        <div class=\"rank-number\">1</div>\n        <div class=\"bird-info\">\n            <h2>东方白鹳</h2>\n            <div class=\"details\">\n                <p><strong>地区：</strong>东亚地区</p>\n                <p><strong>习性：</strong>群居性水鸟，善于飞行和涉水觅食</p>\n                <p class=\"description\">东方白鹳是一种大型涉禽，全身洁白，翅膀末端呈黑色。具有重要的生态价值，是国家一级保护动物。</p>\n                <p class=\"search-count\">\n                    <strong>近期搜索量：</strong>150,000\n                </p>\n            </div>\n        </div>\n        <div class=\"bird-image\">\n            <img :src=\"getBirdImageUrl('stork.jpg', 'large')\" alt=\"东方白鹳\" @error=\"onImageError\">\n        </div>\n    </div>\n\n    <div class=\"bird-item rank-2\">\n        <div class=\"rank-number\">2</div>\n        <div class=\"bird-info\">\n            <h2>朱鹮</h2>\n            <div class=\"details\">\n                <p><strong>地区：</strong>中国陕西洋县</p>\n                <p><strong>习性：</strong>栖息于山地森林，觅食于水田和沼泽地</p>\n                <p class=\"description\">朱鹮全身粉红色，被誉为\"东方宝石\"，是世界珍稀鸟类之一。</p>\n                <p class=\"search-count\">\n                    <strong>近期搜索量：</strong>120,000\n                </p>\n            </div>\n        </div>\n        <div class=\"bird-image\">\n            <img :src=\"getBirdImageUrl('ibis.jpg', 'medium')\" alt=\"朱鹮\" @error=\"onImageError\">\n        </div>\n    </div>\n    \n    <div class=\"bird-item rank-3\">\n        <div class=\"rank-number\">3</div>\n        <div class=\"bird-info\">\n            <h2>丹顶鹤</h2>\n            <div class=\"details\">\n                <p><strong>地区：</strong>东北亚地区</p>\n                <p><strong>习性：</strong>善于舞蹈，多在沼泽地和湿地活动</p>\n                <p class=\"description\">头顶鲜红，全身洁白，象征着吉祥和长寿，是中国传统文化中的瑞鸟。</p>\n                <p class=\"search-count\">\n                    <strong>近期搜索量：</strong>100,000\n                </p>\n            </div>\n        </div>\n        <div class=\"bird-image\">\n            <img :src=\"getBirdImageUrl('crane.jpg', 'small')\" alt=\"丹顶鹤\" @error=\"onImageError\">\n        </div>\n    </div>\n\n    <div class=\"bird-item rank-4\">\n      <div class=\"rank-number\">4</div>\n      <div class=\"bird-info\">\n        <h2>黄鹂</h2>\n        <div class=\"details\">\n          <p><strong>地区：</strong>华东、华南地区</p>\n          <p><strong>习性：</strong>栖息于森林和果园，鸣声优美</p>\n          <p class=\"description\">体型娇小，雄鸟黄黑相间，有\"黄衣公子\"的美称。</p>\n          <p class=\"search-count\"><strong>近期搜索量：</strong>80,000</p>\n        </div>\n      </div>\n      <div class=\"bird-image\">\n        <img :src=\"getBirdImageUrl('oriole.jpg', 'thumbnail')\" alt=\"黄鹂\" @error=\"onImageError\">\n      </div>\n    </div>\n\n    <div class=\"bird-item rank-5\">\n      <div class=\"rank-number\">5</div>\n      <div class=\"bird-info\">\n        <h2>金丝雀</h2>\n        <div class=\"details\">\n          <p><strong>地区：</strong>全国各地</p>\n          <p><strong>习性：</strong>善于歌唱，性情活泼</p>\n          <p class=\"description\">羽毛金黄，歌声婉转动听，是受欢迎的笼养鸟类。</p>\n          <p class=\"search-count\"><strong>近期搜索量：</strong>75,000</p>\n        </div>\n      </div>\n      <div class=\"bird-image\">\n        <img :src=\"getBirdImageUrl('canary.jpg', 'thumbnail')\" alt=\"金丝雀\" @error=\"onImageError\">\n      </div>\n    </div>\n\n    <div class=\"bird-item rank-6\">\n      <div class=\"rank-number\">6</div>\n      <div class=\"bird-info\">\n        <h2>燕子</h2>\n        <div class=\"details\">\n          <p><strong>地区：</strong>全国广泛分布</p>\n          <p><strong>习性：</strong>善于筑巢，飞行敏捷</p>\n          <p class=\"description\">春来秋去，被视为吉祥物，在民间文化中备受喜爱。</p>\n          <p class=\"search-count\"><strong>近期搜索量：</strong>65,000</p>\n        </div>\n      </div>\n      <div class=\"bird-image\">\n        <img :src=\"getBirdImageUrl('swallow.jpg', 'thumbnail')\" alt=\"燕子\" @error=\"onImageError\">\n      </div>\n    </div>\n\n    <div class=\"bird-item rank-7\">\n      <div class=\"rank-number\">7</div>\n      <div class=\"bird-info\">\n        <h2>鹦鹉</h2>\n        <div class=\"details\">\n          <p><strong>地区：</strong>南方地区</p>\n          <p><strong>习性：</strong>群居，善于模仿人声</p>\n          <p class=\"description\">色彩艳丽，聪明伶俐，是深受欢迎的宠物鸟类。</p>\n          <p class=\"search-count\"><strong>近期搜索量：</strong>55,000</p>\n        </div>\n      </div>\n      <div class=\"bird-image\">\n        <img :src=\"getBirdImageUrl('parrot.jpg', 'thumbnail')\" alt=\"鹦鹉\" @error=\"onImageError\">\n      </div>\n    </div>\n\n    <div class=\"bird-item rank-8\">\n      <div class=\"rank-number\">8</div>\n      <div class=\"bird-info\">\n        <h2>猫头鹰</h2>\n        <div class=\"details\">\n          <p><strong>地区：</strong>全国各地</p>\n          <p><strong>习性：</strong>夜行性，善于捕食</p>\n          <p class=\"description\">目光锐利，头部可旋转270度，是优秀的夜间猎手。</p>\n          <p class=\"search-count\"><strong>近期搜索量：</strong>45,000</p>\n        </div>\n      </div>\n      <div class=\"bird-image\">\n        <img :src=\"getBirdImageUrl('owl.jpg', 'thumbnail')\" alt=\"猫头鹰\" @error=\"onImageError\">\n      </div>\n    </div>\n\n    <div class=\"bird-item rank-9\">\n      <div class=\"rank-number\">9</div>\n      <div class=\"bird-info\">\n        <h2>啄木鸟</h2>\n        <div class=\"details\">\n          <p><strong>地区：</strong>温带森林地区</p>\n          <p><strong>习性：</strong>啄木觅食，守护森林</p>\n          <p class=\"description\">森林医生，对维护生态平衡有重要作用。</p>\n          <p class=\"search-count\"><strong>近期搜索量：</strong>35,000</p>\n        </div>\n      </div>\n      <div class=\"bird-image\">\n        <img :src=\"getBirdImageUrl('woodpecker.jpg', 'thumbnail')\" alt=\"啄木鸟\" @error=\"onImageError\">\n      </div>\n    </div>\n\n    <div class=\"bird-item rank-10\">\n      <div class=\"rank-number\">10</div>\n      <div class=\"bird-info\">\n        <h2>翠鸟</h2>\n        <div class=\"details\">\n          <p><strong>地区：</strong>江河湖泊周边</p>\n          <p><strong>习性：</strong>捕食小鱼，栖息于水边</p>\n          <p class=\"description\">羽毛艳丽，蓝绿相间，被誉为\"飞翔的宝石\"。</p>\n          <p class=\"search-count\"><strong>近期搜索量：</strong>30,000</p>\n        </div>\n      </div>\n      <div class=\"bird-image\">\n        <img :src=\"getBirdImageUrl('kingfisher.jpg', 'thumbnail')\" alt=\"翠鸟\" @error=\"onImageError\">\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'RankingPage',\n  data() {\n    return {\n      // OSS配置\n      ossConfig: {\n        baseUrl: 'https://birdfront-oss.oss-cn-shanghai.aliyuncs.com'\n      }\n    }\n  },\n  methods: {\n    // ========== OSS工具方法 ==========\n    /**\n     * 获取OSS图片URL\n     * @param {string} filename - 文件名\n     * @param {string} size - 尺寸类型\n     * @returns {string} 完整的OSS URL\n     */\n    getOSSUrl(filename, size = 'thumbnail') {\n      if (!filename) return '';\n      \n      // 确保文件名不以斜杠开头\n      const cleanFilename = filename.startsWith('/') ? filename.slice(1) : filename;\n      \n      // 根据尺寸类型设置不同的处理参数\n      let params = '';\n      switch(size) {\n        case 'large':\n          // 300px，适用于rank-1\n          params = '?x-oss-process=image/resize,m_lfit,w_300,h_300/quality,q_90';\n          break;\n        case 'medium':\n          // 250px，适用于rank-2\n          params = '?x-oss-process=image/resize,m_lfit,w_250,h_250/quality,q_90';\n          break;\n        case 'small':\n          // 200px，适用于rank-3\n          params = '?x-oss-process=image/resize,m_lfit,w_200,h_200/quality,q_90';\n          break;\n        case 'thumbnail':\n          // 150px，适用于rank-4到rank-10\n          params = '?x-oss-process=image/resize,m_lfit,w_150,h_150/quality,q_90';\n          break;\n        default:\n          params = '?x-oss-process=image/resize,m_lfit,w_150,h_150/quality,q_90';\n      }\n      \n      return `${this.ossConfig.baseUrl}/${cleanFilename}${params}`;\n    },\n\n    /**\n     * 获取鸟类图片的OSS URL\n     * @param {string} filename - 图片文件名\n     * @param {string} size - 尺寸类型\n     * @returns {string} 图片的OSS URL\n     */\n    getBirdImageUrl(filename, size) {\n      // 假设图片存储在OSS的 static/images/ 目录下\n      const imagePath = `pages/assets/images/${filename}`;\n      const url = this.getOSSUrl(imagePath, size);\n      \n      // 添加调试日志\n      console.log(`生成图片URL: ${filename} -> ${url}`);\n      \n      return url;\n    },\n\n    /**\n     * 图片加载失败处理\n     * @param {Event} error - 错误事件\n     */\n    onImageError(error) {\n      console.error('鸟类图片加载失败:', {\n        src: error.target.src,\n        alt: error.target.alt\n      });\n      \n      // 设置一个SVG占位符，避免图片完全消失\n      const placeholder = 'data:image/svg+xml;base64,' + btoa(`\n        <svg width=\"150\" height=\"150\" viewBox=\"0 0 150 150\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <rect width=\"150\" height=\"150\" fill=\"#F3F4F6\"/>\n          <circle cx=\"75\" cy=\"60\" r=\"25\" fill=\"#D1D5DB\"/>\n          <path d=\"M50 90 Q75 70 100 90 Q85 110 75 105 Q65 110 50 90\" fill=\"#9CA3AF\"/>\n          <text x=\"75\" y=\"130\" font-family=\"Arial\" font-size=\"12\" fill=\"#6B7280\" text-anchor=\"middle\">图片加载失败</text>\n        </svg>\n      `);\n      \n      error.target.src = placeholder;\n    }\n  }\n}\n</script>\n\n<style scoped>\n.ranking-container {\n    max-width: 1200px;\n    margin: 20px auto;\n    padding: 20px;\n}\n\n.bird-item {\n    display: flex;\n    margin-bottom: 30px;\n    padding: 20px;\n    border-radius: 10px;\n    background-color: #fff;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n    transition: all 0.3s ease;\n}\n\n.bird-item:hover {\n    transform: translateY(-5px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n}\n\n.rank-number {\n    font-size: 2.5em;\n    font-weight: bold;\n    margin-right: 20px;\n    color: #ff6b6b;\n    min-width: 60px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.bird-info {\n    flex: 1;\n    margin-right: 20px;\n}\n\n.bird-info h2 {\n    color: #2c3e50;\n    margin-bottom: 15px;\n    font-size: 1.8em;\n}\n\n.details p {\n    margin: 8px 0;\n    color: #666;\n    line-height: 1.6;\n}\n\n.description {\n    margin: 15px 0;\n    line-height: 1.8;\n    color: #2c3e50;\n}\n\n.search-count {\n    color: #ff6b6b;\n    font-size: 0.9em;\n    margin-top: 15px;\n}\n\n.bird-image {\n    display: flex;\n    align-items: center;\n}\n\n.bird-image img {\n    object-fit: cover;\n    border-radius: 8px;\n    transition: all 0.3s ease;\n}\n\n.rank-1 {\n    width: 100%;\n}\n\n.rank-1 .bird-image img {\n    width: 300px;\n    height: 300px;\n}\n\n.rank-2 {\n    width: 100%;\n    margin-left: auto;\n    margin-right: auto;\n}\n\n.rank-2 .bird-image img {\n    width: 250px;\n    height: 250px;\n}\n\n.rank-3 {\n    width: 100%;\n    margin-left: auto;\n    margin-right: auto;\n}\n\n.rank-3 .bird-image img {\n    width: 200px;\n    height: 200px;\n}\n\n/* 为rank-4到rank-10设置统一的缩略图尺寸 */\n.rank-4 .bird-image img,\n.rank-5 .bird-image img,\n.rank-6 .bird-image img,\n.rank-7 .bird-image img,\n.rank-8 .bird-image img,\n.rank-9 .bird-image img,\n.rank-10 .bird-image img {\n    width: 150px;\n    height: 150px;\n}\n\n@media (max-width: 1200px) {    \n    .rank-2, .rank-3 {\n        width: 100%;\n    }\n}\n\n@media (max-width: 768px) {\n    .bird-item {\n        flex-direction: column;\n        width: 100% !important;\n    }\n    \n    .bird-image {\n        margin-top: 20px;\n    }\n    \n    .bird-image img {\n        width: 100% !important;\n        height: auto !important;\n    }\n}\n</style>","import MiniProgramPage from 'D:/sitp项目/miniprogram/bird-frontend/pages/RankingPage/RankingPage.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AA4KA,MAAK,YAAU;AAAA,EACb,MAAM;AAAA,EACN,OAAO;AACL,WAAO;AAAA;AAAA,MAEL,WAAW;AAAA,QACT,SAAS;AAAA,MACX;AAAA,IACF;AAAA,EACD;AAAA,EACD,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQP,UAAU,UAAU,OAAO,aAAa;AACtC,UAAI,CAAC;AAAU,eAAO;AAGtB,YAAM,gBAAgB,SAAS,WAAW,GAAG,IAAI,SAAS,MAAM,CAAC,IAAI;AAGrE,UAAI,SAAS;AACb,cAAO,MAAI;AAAA,QACT,KAAK;AAEH,mBAAS;AACT;AAAA,QACF,KAAK;AAEH,mBAAS;AACT;AAAA,QACF,KAAK;AAEH,mBAAS;AACT;AAAA,QACF,KAAK;AAEH,mBAAS;AACT;AAAA,QACF;AACE,mBAAS;AAAA,MACb;AAEA,aAAO,GAAG,KAAK,UAAU,OAAO,IAAI,aAAa,GAAG,MAAM;AAAA,IAC3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQD,gBAAgB,UAAU,MAAM;AAE9B,YAAM,YAAY,uBAAuB,QAAQ;AACjD,YAAM,MAAM,KAAK,UAAU,WAAW,IAAI;AAG1CA,mFAAY,YAAY,QAAQ,OAAO,GAAG,EAAE;AAE5C,aAAO;AAAA,IACR;AAAA;AAAA;AAAA;AAAA;AAAA,IAMD,aAAa,OAAO;AAClBA,oBAAAA,MAAA,MAAA,SAAA,4CAAc,aAAa;AAAA,QACzB,KAAK,MAAM,OAAO;AAAA,QAClB,KAAK,MAAM,OAAO;AAAA,MACpB,CAAC;AAGD,YAAM,cAAc,+BAA+B,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOvD;AAED,YAAM,OAAO,MAAM;AAAA,IACrB;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;ACrQA,GAAG,WAAW,eAAe;"}