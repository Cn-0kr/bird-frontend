{"version":3,"file":"oss.js","sources":["config/oss.js"],"sourcesContent":["/**\n * 阿里云OSS配置文件\n * 用于管理OSS存储桶的相关配置信息\n * @author Frontend Developer\n * @date 2025-07-03\n */\n\n// OSS配置常量\nconst OSS_CONFIG = {\n  // OSS基础配置\n  region: 'oss-cn-shanghai', // OSS区域\n  bucket: 'birdfront-oss', // OSS存储桶名称\n  \n  // OSS访问域名配置\n  // 建议使用自定义域名以提高访问速度和用户体验\n  endpoint: 'https://birdfront-oss.oss-cn-shanghai.aliyuncs.com', // OSS外网访问域名\n  customDomain: 'https://cdn.yourdomain.com', // 自定义CDN域名（可选）\n  \n  // 图片处理配置\n  imageProcess: {\n    // 图片质量压缩参数\n    quality: 80, // 图片质量 (1-100)\n    // 常用图片尺寸预设\n    sizes: {\n      thumbnail: '150x150', // 缩略图尺寸\n      small: '300x300',     // 小图尺寸\n      medium: '600x600',    // 中图尺寸\n      large: '1200x1200',   // 大图尺寸\n      banner: '1920x600'    // 横幅图尺寸\n    },\n    // 图片格式转换\n    format: 'webp', // 默认转换为webp格式以优化加载速度\n    fallbackFormat: 'jpg' // 不支持webp时的回退格式\n  },\n  \n  // 缓存配置\n  cache: {\n    // 图片缓存时间（秒）\n    maxAge: 86400 * 30, // 30天\n    // 是否启用浏览器缓存\n    enableBrowserCache: true\n  },\n  \n  // 安全配置\n  security: {\n    // 是否启用防盗链\n    enableRefererProtection: true,\n    // 允许的来源域名列表\n    allowedReferers: [\n      'https://yourdomain.com',\n      'https://www.yourdomain.com',\n      'http://localhost:3000', // 开发环境\n      'http://127.0.0.1:3000'  // 开发环境\n    ]\n  },\n  \n  // 环境配置\n  environment: {\n    // 当前环境 (development | production | test)\n    current: process.env.NODE_ENV || 'development',\n    \n    // 不同环境的配置\n    development: {\n      enableImageOptimization: false, // 开发环境关闭图片优化以提高调试效率\n      enableCache: false,\n      logLevel: 'debug'\n    },\n    \n    production: {\n      enableImageOptimization: true,  // 生产环境启用图片优化\n      enableCache: true,\n      logLevel: 'error'\n    },\n    \n    test: {\n      enableImageOptimization: false,\n      enableCache: false,\n      logLevel: 'warn'\n    }\n  }\n}\n\n/**\n * 获取当前环境的OSS配置\n * @returns {Object} 当前环境的OSS配置对象\n */\nexport const getOSSConfig = () => {\n  const currentEnv = OSS_CONFIG.environment.current\n  const envConfig = OSS_CONFIG.environment[currentEnv] || OSS_CONFIG.environment.development\n  \n  return {\n    ...OSS_CONFIG,\n    ...envConfig\n  }\n}\n\n/**\n * 验证OSS配置是否完整\n * @returns {Object} 验证结果\n */\nexport const validateOSSConfig = () => {\n  const config = getOSSConfig()\n  const errors = []\n  \n  // 检查必需的配置项\n  if (!config.bucket || config.bucket === 'your-bucket-name') {\n    errors.push('OSS bucket name is not configured')\n  }\n  \n  if (!config.endpoint || config.endpoint.includes('your-bucket-name')) {\n    errors.push('OSS endpoint is not configured')\n  }\n  \n  if (!config.region) {\n    errors.push('OSS region is not configured')\n  }\n  \n  return {\n    isValid: errors.length === 0,\n    errors,\n    config\n  }\n}\n\n// 导出配置对象\nexport default OSS_CONFIG\n\n/**\n * 使用示例：\n * \n * import OSS_CONFIG, { getOSSConfig, validateOSSConfig } from '@/config/oss.js'\n * \n * // 获取配置\n * const config = getOSSConfig()\n * \n * // 验证配置\n * const validation = validateOSSConfig()\n * if (!validation.isValid) {\n *   console.error('OSS配置错误:', validation.errors)\n * }\n */"],"names":[],"mappings":";AAQA,MAAM,aAAa;AAAA;AAAA,EAEjB,QAAQ;AAAA;AAAA,EACR,QAAQ;AAAA;AAAA;AAAA;AAAA,EAIR,UAAU;AAAA;AAAA,EACV,cAAc;AAAA;AAAA;AAAA,EAGd,cAAc;AAAA;AAAA,IAEZ,SAAS;AAAA;AAAA;AAAA,IAET,OAAO;AAAA,MACL,WAAW;AAAA;AAAA,MACX,OAAO;AAAA;AAAA,MACP,QAAQ;AAAA;AAAA,MACR,OAAO;AAAA;AAAA,MACP,QAAQ;AAAA;AAAA,IACV;AAAA;AAAA,IAEA,QAAQ;AAAA;AAAA,IACR,gBAAgB;AAAA;AAAA,EAClB;AAAA;AAAA,EAGA,OAAO;AAAA;AAAA,IAEL,QAAQ,QAAQ;AAAA;AAAA;AAAA,IAEhB,oBAAoB;AAAA,EACtB;AAAA;AAAA,EAGA,UAAU;AAAA;AAAA,IAER,yBAAyB;AAAA;AAAA,IAEzB,iBAAiB;AAAA,MACf;AAAA,MACA;AAAA,MACA;AAAA;AAAA,MACA;AAAA;AAAA,IACF;AAAA,EACF;AAAA;AAAA,EAGA,aAAa;AAAA;AAAA,IAEX,SAAS;AAAA;AAAA,IAGT,aAAa;AAAA,MACX,yBAAyB;AAAA;AAAA,MACzB,aAAa;AAAA,MACb,UAAU;AAAA,IACZ;AAAA,IAEA,YAAY;AAAA,MACV,yBAAyB;AAAA;AAAA,MACzB,aAAa;AAAA,MACb,UAAU;AAAA,IACZ;AAAA,IAEA,MAAM;AAAA,MACJ,yBAAyB;AAAA,MACzB,aAAa;AAAA,MACb,UAAU;AAAA,IACZ;AAAA,EACF;AACF;AAMO,MAAM,eAAe,MAAM;AAC1B,QAAA,aAAa,WAAW,YAAY;AAC1C,QAAM,YAAY,WAAW,YAAY,UAAU,KAAK,WAAW,YAAY;AAExE,SAAA;AAAA,IACL,GAAG;AAAA,IACH,GAAG;AAAA,EAAA;AAEP;;"}