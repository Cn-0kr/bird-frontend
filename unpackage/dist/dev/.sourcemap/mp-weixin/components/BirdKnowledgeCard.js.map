{"version":3,"file":"BirdKnowledgeCard.js","sources":["components/BirdKnowledgeCard.vue","../../../HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovc2l0cOmhueebri9taW5pcHJvZ3JhbS9iaXJkLWZyb250ZW5kL2NvbXBvbmVudHMvQmlyZEtub3dsZWRnZUNhcmQudnVl"],"sourcesContent":["<template>\n    <view class=\"knowledge-card\" :class=\"{ 'card-active': isActive }\">\n      <!-- 卡片主图 -->\n      <view class=\"card-header\">\n        <image \n          :src=\"birdData.imageUrl\" \n          class=\"bird-image\" \n          mode=\"aspectFill\"\n          @load=\"onImageLoad\"\n          @error=\"onImageError\"\n        ></image>\n        <view class=\"image-overlay\">\n          <view class=\"bird-title-section\">\n            <text class=\"bird-name\">{{ birdData.name }}</text>\n            <text class=\"scientific-name\">{{ birdData.scientificName }}</text>\n          </view>\n          <view class=\"action-buttons\">\n            <view \n              class=\"action-btn like-btn\" \n              @click=\"handleLike\"\n              :class=\"{ 'liked': isLiked }\"\n            >\n              <image \n                :src=\"isLiked ? '/static/icons/heart-filled.png' : '/static/icons/heart.png'\" \n                class=\"action-icon\"\n              ></image>\n            </view>\n            <view class=\"action-btn share-btn\" @click=\"handleShare\">\n              <image src=\"/static/icons/share.png\" class=\"action-icon\"></image>\n            </view>\n          </view>\n        </view>\n      </view>\n  \n      <!-- 卡片内容 - 紧凑布局，一屏显示 -->\n      <view class=\"card-content\">\n        <!-- 基本信息网格 -->\n        <view class=\"basic-info-grid\">\n          <view class=\"info-card habitat\">\n            <image src=\"/static/icons/habitat.png\" class=\"info-icon\"></image>\n            <view class=\"info-content\">\n              <text class=\"info-label\">栖息地</text>\n              <text class=\"info-value\">{{ birdData.habitat }}</text>\n            </view>\n          </view>\n          \n          <view class=\"info-card size\">\n            <image src=\"/static/icons/size.png\" class=\"info-icon\"></image>\n            <view class=\"info-content\">\n              <text class=\"info-label\">体型</text>\n              <text class=\"info-value\">{{ birdData.size }}</text>\n            </view>\n          </view>\n          \n          <view class=\"info-card weight\">\n            <image src=\"/static/icons/weight.png\" class=\"info-icon\"></image>\n            <view class=\"info-content\">\n              <text class=\"info-label\">体重</text>\n              <text class=\"info-value\">{{ birdData.weight }}</text>\n            </view>\n          </view>\n          \n          <view class=\"info-card wingspan\">\n            <image src=\"/static/icons/wingspan.png\" class=\"info-icon\"></image>\n            <view class=\"info-content\">\n              <text class=\"info-label\">翼展</text>\n              <text class=\"info-value\">{{ birdData.wingspan }}</text>\n            </view>\n          </view>\n        </view>\n  \n        <!-- 特征标签 -->\n        <view class=\"characteristics-section\">\n          <text class=\"section-title\">主要特征</text>\n          <view class=\"characteristics-tags\">\n            <text \n              v-for=\"(characteristic, index) in birdData.characteristics.slice(0, 4)\" \n              :key=\"index\"\n              class=\"characteristic-tag\"\n              :style=\"{ 'animation-delay': `${index * 0.1}s` }\"\n            >\n              {{ characteristic }}\n            </text>\n          </view>\n        </view>\n  \n        <!-- 生活习性 - 紧凑展示 -->\n        <view class=\"habits-section\">\n          <view class=\"habit-item diet\">\n            <view class=\"habit-header\">\n              <image src=\"/static/icons/diet.png\" class=\"habit-icon\"></image>\n              <text class=\"habit-title\">饮食</text>\n            </view>\n            <text class=\"habit-desc\">{{ birdData.diet }}</text>\n          </view>\n          \n          <view class=\"habit-item behavior\">\n            <view class=\"habit-header\">\n              <image src=\"/static/icons/behavior.png\" class=\"habit-icon\"></image>\n              <text class=\"habit-title\">行为</text>\n            </view>\n            <text class=\"habit-desc\">{{ birdData.behavior }}</text>\n          </view>\n        </view>\n  \n        <!-- 趣味知识 - 精选显示 -->\n        <view class=\"fun-facts-section\">\n          <text class=\"section-title\">趣味知识</text>\n          <view class=\"fun-facts-compact\">\n            <view \n              v-for=\"(fact, index) in birdData.funFacts.slice(0, 2)\" \n              :key=\"index\"\n              class=\"fun-fact\"\n              :style=\"{ 'animation-delay': `${index * 0.15}s` }\"\n            >\n              <view class=\"fact-bullet\">{{ index + 1 }}</view>\n              <text class=\"fact-text\">{{ fact }}</text>\n            </view>\n          </view>\n        </view>\n  \n        <!-- 保护状态与分布 -->\n        <view class=\"status-section\">\n          <view class=\"distribution-info\">\n            <image src=\"/static/icons/distribution.png\" class=\"distribution-icon\"></image>\n            <view class=\"distribution-content\">\n              <text class=\"distribution-label\">分布区域</text>\n              <text class=\"distribution-text\">{{ birdData.distribution }}</text>\n            </view>\n          </view>\n          \n          <view class=\"conservation-status\" :class=\"getConservationClass(birdData.conservationStatus)\">\n            <image src=\"/static/icons/conservation.png\" class=\"conservation-icon\"></image>\n            <text class=\"conservation-text\">{{ birdData.conservationStatus }}</text>\n          </view>\n        </view>\n  \n        <!-- 声音与寿命 -->\n        <view class=\"bottom-info\">\n          <view class=\"sound-info\">\n            <image src=\"/static/icons/sound.png\" class=\"sound-icon\"></image>\n            <text class=\"sound-text\">{{ birdData.callDescription }}</text>\n            <view class=\"play-sound-btn\" @click=\"playBirdCall\">\n              <image src=\"/static/icons/play.png\" class=\"play-icon\"></image>\n            </view>\n          </view>\n          \n          <view class=\"lifespan-info\">\n            <image src=\"/static/icons/lifespan.png\" class=\"lifespan-icon\"></image>\n            <text class=\"lifespan-text\">{{ birdData.lifespan }}</text>\n          </view>\n        </view>\n      </view>\n    </view>\n  </template>\n  \n  <script setup>\n  import { ref, computed, defineProps, defineEmits } from 'vue';\n  \n  // ========== Props 定义 ==========\n  const props = defineProps({\n    birdData: {\n      type: Object,\n      required: true\n    },\n    isActive: {\n      type: Boolean,\n      default: false\n    }\n  });\n  \n  // ========== Emits 定义 ==========\n  const emit = defineEmits(['like', 'share']);\n  \n  // ========== 响应式数据 ==========\n  const isLiked = ref(false);\n  const imageLoaded = ref(false);\n  \n  // ========== 计算属性 ==========\n  \n  /**\n   * 获取保护状态的样式类\n   * @param {String} status - 保护状态\n   * @returns {String} 样式类名\n   */\n  const getConservationClass = (status) => {\n    const statusMap = {\n      '无危': 'status-safe',\n      '近危': 'status-near-threatened',\n      '易危': 'status-vulnerable',\n      '濒危': 'status-endangered',\n      '极危': 'status-critical'\n    };\n    return statusMap[status] || 'status-unknown';\n  };\n  \n  // ========== 事件处理函数 ==========\n  \n  /**\n   * 图片加载完成\n   */\n  const onImageLoad = () => {\n    imageLoaded.value = true;\n  };\n  \n  /**\n   * 图片加载失败\n   */\n  const onImageError = () => {\n    console.error('鸟类图片加载失败');\n  };\n  \n  /**\n   * 处理点赞\n   */\n  const handleLike = () => {\n    isLiked.value = !isLiked.value;\n    emit('like', props.birdData);\n    \n    // 点赞动画反馈\n    uni.vibrateShort();\n  };\n  \n  /**\n   * 处理分享\n   */\n  const handleShare = () => {\n    emit('share', props.birdData);\n  };\n  \n  /**\n   * 播放鸟鸣声\n   */\n  const playBirdCall = () => {\n    // TODO: 实现鸟鸣声播放功能\n    uni.showToast({\n      title: '播放鸟鸣声',\n      icon: 'none'\n    });\n    \n    // 模拟播放反馈\n    uni.vibrateShort();\n  };\n  </script>\n  \n  <style lang=\"scss\" scoped>\n  // ========== 主卡片样式 ==========\n  .knowledge-card {\n    height: 100%;\n    background: white;\n    border-radius: 32rpx;\n    overflow: hidden;\n    box-shadow: 0 8rpx 40rpx rgba(0, 0, 0, 0.12);\n    display: flex;\n    flex-direction: column;\n    transition: all 0.3s ease;\n    \n    &.card-active {\n      transform: scale(1.02);\n      box-shadow: 0 12rpx 48rpx rgba(0, 0, 0, 0.15);\n    }\n  }\n  \n  // ========== 卡片头部样式 ==========\n  .card-header {\n    position: relative;\n    height: 240rpx; /* 减小头部高度，为内容腾出空间 */\n    overflow: hidden;\n  }\n  \n  .bird-image {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    transition: transform 0.3s ease;\n  }\n  \n  .card-active .bird-image {\n    transform: scale(1.05);\n  }\n  \n  .image-overlay {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: linear-gradient(\n      180deg, \n      rgba(0, 0, 0, 0.3) 0%, \n      rgba(0, 0, 0, 0.1) 50%,\n      rgba(0, 0, 0, 0.6) 100%\n    );\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    padding: 20rpx;\n  }\n  \n  .bird-title-section {\n    align-self: flex-end;\n    text-align: right;\n  }\n  \n  .bird-name {\n    display: block;\n    font-size: 36rpx;\n    font-weight: 700;\n    color: white;\n    text-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.5);\n    margin-bottom: 6rpx;\n  }\n  \n  .scientific-name {\n    display: block;\n    font-size: 22rpx;\n    color: rgba(255, 255, 255, 0.9);\n    font-style: italic;\n    text-shadow: 0 1rpx 4rpx rgba(0, 0, 0, 0.5);\n  }\n  \n  .action-buttons {\n    display: flex;\n    gap: 12rpx;\n    align-self: flex-start;\n  }\n  \n  .action-btn {\n    width: 64rpx;\n    height: 64rpx;\n    background: rgba(255, 255, 255, 0.2);\n    backdrop-filter: blur(10rpx);\n    border-radius: 32rpx;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: all 0.3s ease;\n    border: 2rpx solid rgba(255, 255, 255, 0.3);\n    \n    &:active {\n      transform: scale(0.9);\n    }\n  }\n  \n  .like-btn.liked {\n    background: rgba(255, 107, 107, 0.3);\n    border-color: rgba(255, 107, 107, 0.5);\n  }\n  \n  .action-icon {\n    width: 28rpx;\n    height: 28rpx;\n  }\n  \n  // ========== 卡片内容样式 ==========\n  .card-content {\n    flex: 1;\n    padding: 24rpx 20rpx;\n    display: flex;\n    flex-direction: column;\n    gap: 20rpx;\n  }\n  \n  // ========== 基本信息网格 ==========\n  .basic-info-grid {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: 12rpx;\n  }\n  \n  .info-card {\n    background: #f8f9fa;\n    border-radius: 12rpx;\n    padding: 16rpx;\n    display: flex;\n    align-items: center;\n    gap: 10rpx;\n    transition: all 0.3s ease;\n    \n    &:hover {\n      background: #f0f7f0;\n      transform: translateY(-1rpx);\n    }\n  }\n  \n  .info-icon {\n    width: 24rpx;\n    height: 24rpx;\n    opacity: 0.7;\n    flex-shrink: 0;\n  }\n  \n  .info-content {\n    flex: 1;\n    min-width: 0;\n  }\n  \n  .info-label {\n    font-size: 18rpx;\n    color: #666;\n    margin-bottom: 2rpx;\n    display: block;\n  }\n  \n  .info-value {\n    font-size: 20rpx;\n    color: #333;\n    font-weight: 500;\n    display: block;\n    line-height: 1.3;\n  }\n  \n  // ========== 特征标签样式 ==========\n  .characteristics-section {\n    .section-title {\n      font-size: 24rpx;\n      font-weight: 600;\n      color: #333;\n      margin-bottom: 12rpx;\n      display: block;\n      position: relative;\n      padding-left: 12rpx;\n      \n      &::before {\n        content: '';\n        position: absolute;\n        left: 0;\n        top: 50%;\n        transform: translateY(-50%);\n        width: 4rpx;\n        height: 18rpx;\n        background: linear-gradient(180deg, #4caf50 0%, #66bb6a 100%);\n        border-radius: 2rpx;\n      }\n    }\n  }\n  \n  .characteristics-tags {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 8rpx;\n  }\n  \n  .characteristic-tag {\n    background: linear-gradient(135deg, #e8f5e8 0%, #f0f7f0 100%);\n    color: #4caf50;\n    padding: 6rpx 12rpx;\n    border-radius: 12rpx;\n    font-size: 18rpx;\n    font-weight: 500;\n    border: 1rpx solid rgba(76, 175, 80, 0.2);\n    animation: slideInLeft 0.5s ease both;\n  }\n  \n  @keyframes slideInLeft {\n    from {\n      opacity: 0;\n      transform: translateX(-10rpx);\n    }\n    to {\n      opacity: 1;\n      transform: translateX(0);\n    }\n  }\n  \n  // ========== 生活习性样式 ==========\n  .habits-section {\n    display: flex;\n    gap: 12rpx;\n  }\n  \n  .habit-item {\n    flex: 1;\n    background: linear-gradient(135deg, #f8fff8 0%, #f0f9f0 100%);\n    border-radius: 12rpx;\n    padding: 16rpx;\n    border: 1rpx solid rgba(76, 175, 80, 0.1);\n  }\n  \n  .habit-header {\n    display: flex;\n    align-items: center;\n    gap: 8rpx;\n    margin-bottom: 8rpx;\n  }\n  \n  .habit-icon {\n    width: 20rpx;\n    height: 20rpx;\n  }\n  \n  .habit-title {\n    font-size: 20rpx;\n    font-weight: 600;\n    color: #4caf50;\n  }\n  \n  .habit-desc {\n    font-size: 18rpx;\n    color: #555;\n    line-height: 1.4;\n    display: -webkit-box;\n    -webkit-line-clamp: 2;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n  }\n  \n  // ========== 趣味知识样式 ==========\n  .fun-facts-section {\n    .section-title {\n      font-size: 24rpx;\n      font-weight: 600;\n      color: #333;\n      margin-bottom: 12rpx;\n      display: block;\n      position: relative;\n      padding-left: 12rpx;\n      \n      &::before {\n        content: '';\n        position: absolute;\n        left: 0;\n        top: 50%;\n        transform: translateY(-50%);\n        width: 4rpx;\n        height: 18rpx;\n        background: linear-gradient(180deg, #ff9800 0%, #ffb74d 100%);\n        border-radius: 2rpx;\n      }\n    }\n  }\n  \n  .fun-facts-compact {\n    display: flex;\n    flex-direction: column;\n    gap: 10rpx;\n  }\n  \n  .fun-fact {\n    display: flex;\n    gap: 12rpx;\n    background: linear-gradient(135deg, #fff3e0 0%, #ffeaa7 100%);\n    border-radius: 12rpx;\n    padding: 12rpx;\n    animation: bounceIn 0.6s ease both;\n  }\n  \n  @keyframes bounceIn {\n    0% {\n      opacity: 0;\n      transform: scale(0.9);\n    }\n    50% {\n      transform: scale(1.02);\n    }\n    100% {\n      opacity: 1;\n      transform: scale(1);\n    }\n  }\n  \n  .fact-bullet {\n    width: 32rpx;\n    height: 32rpx;\n    background: linear-gradient(135deg, #ff9800 0%, #ffb74d 100%);\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 16rpx;\n    font-weight: 600;\n    color: white;\n    flex-shrink: 0;\n  }\n  \n  .fact-text {\n    flex: 1;\n    font-size: 18rpx;\n    color: #555;\n    line-height: 1.4;\n    display: -webkit-box;\n    -webkit-line-clamp: 2;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n  }\n  \n  // ========== 状态部分样式 ==========\n  .status-section {\n    display: flex;\n    gap: 12rpx;\n    align-items: center;\n  }\n  \n  .distribution-info {\n    flex: 1;\n    display: flex;\n    align-items: center;\n    gap: 10rpx;\n    background: #f8f9fa;\n    border-radius: 12rpx;\n    padding: 12rpx;\n  }\n  \n  .distribution-icon {\n    width: 24rpx;\n    height: 24rpx;\n    flex-shrink: 0;\n  }\n  \n  .distribution-content {\n    flex: 1;\n    min-width: 0;\n  }\n  \n  .distribution-label {\n    font-size: 16rpx;\n    color: #666;\n    margin-bottom: 2rpx;\n    display: block;\n  }\n  \n  .distribution-text {\n    font-size: 18rpx;\n    color: #333;\n    font-weight: 500;\n    display: block;\n    line-height: 1.3;\n    display: -webkit-box;\n    -webkit-line-clamp: 2;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n  }\n  \n  .conservation-status {\n    display: flex;\n    align-items: center;\n    gap: 6rpx;\n    padding: 8rpx 12rpx;\n    border-radius: 12rpx;\n    border: 2rpx solid;\n    flex-shrink: 0;\n    \n    &.status-safe {\n      background: rgba(76, 175, 80, 0.1);\n      border-color: rgba(76, 175, 80, 0.3);\n      color: #4caf50;\n    }\n    \n    &.status-near-threatened {\n      background: rgba(255, 193, 7, 0.1);\n      border-color: rgba(255, 193, 7, 0.3);\n      color: #ffc107;\n    }\n    \n    &.status-vulnerable {\n      background: rgba(255, 152, 0, 0.1);\n      border-color: rgba(255, 152, 0, 0.3);\n      color: #ff9800;\n    }\n    \n    &.status-endangered {\n      background: rgba(244, 67, 54, 0.1);\n      border-color: rgba(244, 67, 54, 0.3);\n      color: #f44336;\n    }\n    \n    &.status-critical {\n      background: rgba(156, 39, 176, 0.1);\n      border-color: rgba(156, 39, 176, 0.3);\n      color: #9c27b0;\n    }\n  }\n  \n  .conservation-icon {\n    width: 16rpx;\n    height: 16rpx;\n  }\n  \n  .conservation-text {\n    font-size: 18rpx;\n    font-weight: 500;\n  }\n  \n  // ========== 底部信息样式 ==========\n  .bottom-info {\n    display: flex;\n    gap: 12rpx;\n  }\n  \n  .sound-info {\n    flex: 2;\n    display: flex;\n    align-items: center;\n    gap: 8rpx;\n    background: linear-gradient(135deg, #e8f5e8 0%, #f1f8e9 100%);\n    border-radius: 12rpx;\n    padding: 12rpx;\n  }\n  \n  .sound-icon {\n    width: 20rpx;\n    height: 20rpx;\n    flex-shrink: 0;\n  }\n  \n  .sound-text {\n    flex: 1;\n    font-size: 16rpx;\n    color: #555;\n    line-height: 1.3;\n    display: -webkit-box;\n    -webkit-line-clamp: 1;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n  }\n  \n  .play-sound-btn {\n    width: 32rpx;\n    height: 32rpx;\n    background: rgba(76, 175, 80, 0.2);\n    border-radius: 16rpx;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: all 0.3s ease;\n    flex-shrink: 0;\n    \n    &:active {\n      transform: scale(0.9);\n      background: rgba(76, 175, 80, 0.3);\n    }\n  }\n  \n  .play-icon {\n    width: 16rpx;\n    height: 16rpx;\n  }\n  \n  .lifespan-info {\n    flex: 1;\n    display: flex;\n    align-items: center;\n    gap: 8rpx;\n    background: linear-gradient(135deg, #f3e5f5 0%, #fce4ec 100%);\n    border-radius: 12rpx;\n    padding: 12rpx;\n  }\n  \n  .lifespan-icon {\n    width: 20rpx;\n    height: 20rpx;\n    flex-shrink: 0;\n  }\n  \n  .lifespan-text {\n    flex: 1;\n    font-size: 16rpx;\n    color: #555;\n    font-weight: 500;\n    line-height: 1.3;\n  }\n  \n  // ========== 响应式适配 ==========\n  @media screen and (max-width: 750rpx) {\n    .card-content {\n      padding: 20rpx 16rpx;\n      gap: 16rpx;\n    }\n    \n    .basic-info-grid {\n      gap: 10rpx;\n    }\n    \n    .info-card {\n      padding: 12rpx;\n    }\n    \n    .habit-item {\n      padding: 12rpx;\n    }\n    \n    .fun-fact {\n      padding: 10rpx;\n    }\n  }\n  </style>","import Component from 'D:/sitp项目/miniprogram/bird-frontend/components/BirdKnowledgeCard.vue'\nwx.createComponent(Component)"],"names":["ref","uni"],"mappings":";;;;;;;;;;;;;;;;;AAgKE,UAAM,QAAQ;AAYd,UAAM,OAAO;AAGb,UAAM,UAAUA,kBAAI,KAAK;AACzB,UAAM,cAAcA,kBAAI,KAAK;AAS7B,UAAM,uBAAuB,CAAC,WAAW;AACvC,YAAM,YAAY;AAAA,QAChB,MAAM;AAAA,QACN,MAAM;AAAA,QACN,MAAM;AAAA,QACN,MAAM;AAAA,QACN,MAAM;AAAA,MACZ;AACI,aAAO,UAAU,MAAM,KAAK;AAAA,IAChC;AAOE,UAAM,cAAc,MAAM;AACxB,kBAAY,QAAQ;AAAA,IACxB;AAKE,UAAM,eAAe,MAAM;AACzBC,oBAAAA,MAAA,MAAA,SAAA,2CAAc,UAAU;AAAA,IAC5B;AAKE,UAAM,aAAa,MAAM;AACvB,cAAQ,QAAQ,CAAC,QAAQ;AACzB,WAAK,QAAQ,MAAM,QAAQ;AAG3BA,oBAAG,MAAC,aAAY;AAAA,IACpB;AAKE,UAAM,cAAc,MAAM;AACxB,WAAK,SAAS,MAAM,QAAQ;AAAA,IAChC;AAKE,UAAM,eAAe,MAAM;AAEzBA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,MACZ,CAAK;AAGDA,oBAAG,MAAC,aAAY;AAAA,IACpB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjPA,GAAG,gBAAgB,SAAS;"}