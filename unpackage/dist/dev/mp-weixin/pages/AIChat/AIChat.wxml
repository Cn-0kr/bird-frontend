<view class="ai-chat-container data-v-50ae6d1f"><view class="custom-navbar data-v-50ae6d1f"><view class="navbar-left data-v-50ae6d1f" bindtap="{{b}}"><image src="{{a}}" class="back-icon data-v-50ae6d1f"></image></view><view class="navbar-center data-v-50ae6d1f"><view class="ai-avatar-wrapper data-v-50ae6d1f"><image src="{{c}}" class="ai-avatar data-v-50ae6d1f"></image><view class="{{['status-indicator', 'data-v-50ae6d1f', d && 'status-online', e && 'status-typing']}}"></view></view><view class="ai-info data-v-50ae6d1f"><text class="ai-name data-v-50ae6d1f">鸟类智能助手</text><text class="ai-status data-v-50ae6d1f">{{f}}</text></view></view><view class="navbar-right data-v-50ae6d1f"><view class="menu-btn data-v-50ae6d1f" bindtap="{{h}}"><image src="{{g}}" class="menu-icon data-v-50ae6d1f"></image></view></view></view><scroll-view class="message-list data-v-50ae6d1f" scroll-y scroll-top="{{p}}" enable-back-to-top="{{true}}" scroll-with-animation="{{true}}" bindscrolltoupper="{{q}}"><view wx:if="{{i}}" class="welcome-section data-v-50ae6d1f"><view class="welcome-card data-v-50ae6d1f"><image src="{{j}}" class="welcome-icon data-v-50ae6d1f"></image><text class="welcome-title data-v-50ae6d1f">欢迎来到鸟类智能助手！</text><text class="welcome-subtitle data-v-50ae6d1f">我可以帮助您解答关于鸟类的任何问题</text><view class="suggestion-buttons data-v-50ae6d1f"><view wx:for="{{k}}" wx:for-item="suggestion" wx:key="c" class="suggestion-btn data-v-50ae6d1f" bindtap="{{suggestion.d}}"><image src="{{suggestion.a}}" class="suggestion-icon data-v-50ae6d1f"></image><text class="suggestion-text data-v-50ae6d1f">{{suggestion.b}}</text></view></view></view></view><view wx:for="{{l}}" wx:for-item="message" wx:key="p" class="{{['message-item', 'data-v-50ae6d1f', message.q && 'message-user', message.r && 'message-ai']}}" style="{{'animation-delay:' + message.s}}"><view wx:if="{{message.a}}" class="ai-message-wrapper data-v-50ae6d1f"><image src="{{message.b}}" class="message-avatar data-v-50ae6d1f"></image><view class="message-content data-v-50ae6d1f"><view class="message-bubble ai-bubble data-v-50ae6d1f"><view wx:if="{{message.c}}" class="typing-indicator data-v-50ae6d1f"><view class="typing-dot data-v-50ae6d1f"></view><view class="typing-dot data-v-50ae6d1f"></view><view class="typing-dot data-v-50ae6d1f"></view></view><rich-text wx:else nodes="{{message.d}}" class="message-text data-v-50ae6d1f"></rich-text><view wx:if="{{message.e}}" class="message-toolbar data-v-50ae6d1f"><view class="toolbar-btn data-v-50ae6d1f" bindtap="{{message.g}}"><image src="{{message.f}}" class="toolbar-icon data-v-50ae6d1f"></image></view><view class="toolbar-btn data-v-50ae6d1f" bindtap="{{message.i}}"><image src="{{message.h}}" class="toolbar-icon data-v-50ae6d1f"></image></view><view class="toolbar-btn data-v-50ae6d1f" bindtap="{{message.k}}"><image src="{{message.j}}" class="toolbar-icon data-v-50ae6d1f"></image></view></view></view><text class="message-time data-v-50ae6d1f">{{message.l}}</text></view></view><view wx:else class="user-message-wrapper data-v-50ae6d1f"><view class="message-content data-v-50ae6d1f"><view class="message-bubble user-bubble data-v-50ae6d1f"><text class="message-text data-v-50ae6d1f">{{message.m}}</text></view><text class="message-time data-v-50ae6d1f">{{message.n}}</text></view><image src="{{message.o}}" class="message-avatar data-v-50ae6d1f"></image></view></view><view wx:if="{{m}}" class="load-more-section data-v-50ae6d1f"><view class="load-more-btn data-v-50ae6d1f" bindtap="{{o}}"><image src="{{n}}" class="load-more-icon data-v-50ae6d1f"></image><text class="load-more-text data-v-50ae6d1f">加载更多消息</text></view></view></scroll-view><view class="input-section data-v-50ae6d1f"><view wx:if="{{r}}" class="quick-replies data-v-50ae6d1f"><scroll-view class="quick-reply-scroll data-v-50ae6d1f" scroll-x><view class="quick-reply-container data-v-50ae6d1f"><view wx:for="{{s}}" wx:for-item="reply" wx:key="b" class="quick-reply-item data-v-50ae6d1f" bindtap="{{reply.c}}"><text class="quick-reply-text data-v-50ae6d1f">{{reply.a}}</text></view></view></scroll-view></view><view class="input-wrapper data-v-50ae6d1f"><view class="input-container data-v-50ae6d1f"><view class="extra-actions data-v-50ae6d1f"><view class="action-btn voice-btn data-v-50ae6d1f" bindtap="{{v}}"><image src="{{t}}" class="action-icon data-v-50ae6d1f"></image></view><view class="action-btn image-btn data-v-50ae6d1f" bindtap="{{x}}"><image src="{{w}}" class="action-icon data-v-50ae6d1f"></image></view></view><block wx:if="{{r0}}"><textarea placeholder="输入您想了解的鸟类问题..." placeholder-class="input-placeholder" class="text-input data-v-50ae6d1f" auto-height="{{true}}" maxlength="{{500}}" bindinput="{{y}}" bindfocus="{{z}}" bindblur="{{A}}" bindconfirm="{{B}}" value="{{C}}"></textarea></block><view class="{{['send-btn', 'data-v-50ae6d1f', E && 'send-btn-active']}}" bindtap="{{F}}"><image src="{{D}}" class="send-icon data-v-50ae6d1f"></image></view></view><view wx:if="{{G}}" class="char-count data-v-50ae6d1f"><text class="char-count-text data-v-50ae6d1f">{{H}}/500</text></view></view></view><view wx:if="{{I}}" class="voice-modal data-v-50ae6d1f"><view class="voice-content data-v-50ae6d1f"><view class="voice-animation data-v-50ae6d1f"><view class="{{['voice-circle', 'data-v-50ae6d1f', J && 'voice-active']}}"></view><image src="{{K}}" class="voice-icon data-v-50ae6d1f"></image></view><text class="voice-text data-v-50ae6d1f">{{L}}</text><view class="voice-actions data-v-50ae6d1f"><view class="voice-cancel data-v-50ae6d1f" bindtap="{{M}}">取消</view><view class="voice-confirm data-v-50ae6d1f" bindtap="{{N}}">确认</view></view></view></view></view>