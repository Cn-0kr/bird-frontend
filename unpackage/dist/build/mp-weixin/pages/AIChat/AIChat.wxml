<view class="ai-chat-container data-v-ea5e20e9"><view class="custom-navbar data-v-ea5e20e9"><view class="navbar-left data-v-ea5e20e9" bindtap="{{c}}"><image src="{{a}}" class="back-icon data-v-ea5e20e9" binderror="{{b}}"></image></view><view class="navbar-center data-v-ea5e20e9"><view class="ai-avatar-wrapper data-v-ea5e20e9"><image src="{{d}}" class="ai-avatar data-v-ea5e20e9" binderror="{{e}}"></image><view class="{{['status-indicator', 'data-v-ea5e20e9', f && 'status-online', g && 'status-typing']}}"></view></view><view class="ai-info data-v-ea5e20e9"><text class="ai-name data-v-ea5e20e9">鸟类智能助手</text><text class="ai-status data-v-ea5e20e9">{{h}}</text></view></view><view class="navbar-right data-v-ea5e20e9"><view class="menu-btn data-v-ea5e20e9" bindtap="{{k}}"><image src="{{i}}" class="menu-icon data-v-ea5e20e9" binderror="{{j}}"></image></view></view></view><scroll-view class="message-list data-v-ea5e20e9" scroll-y scroll-top="{{v}}" enable-back-to-top="{{true}}" scroll-with-animation="{{true}}" bindscrolltoupper="{{w}}"><view wx:if="{{l}}" class="welcome-section data-v-ea5e20e9"><view class="welcome-card data-v-ea5e20e9"><image src="{{m}}" class="welcome-icon data-v-ea5e20e9" binderror="{{n}}"></image><text class="welcome-title data-v-ea5e20e9">欢迎来到鸟类智能助手！</text><text class="welcome-subtitle data-v-ea5e20e9">我可以帮助您解答关于鸟类的任何问题</text><view class="suggestion-buttons data-v-ea5e20e9"><view wx:for="{{o}}" wx:for-item="suggestion" wx:key="d" class="suggestion-btn data-v-ea5e20e9" bindtap="{{suggestion.e}}"><image src="{{suggestion.a}}" class="suggestion-icon data-v-ea5e20e9" binderror="{{suggestion.b}}"></image><text class="suggestion-text data-v-ea5e20e9">{{suggestion.c}}</text></view></view></view></view><view wx:for="{{p}}" wx:for-item="message" wx:key="v" class="{{['message-item', 'data-v-ea5e20e9', message.w && 'message-user', message.x && 'message-ai']}}" style="{{'animation-delay:' + message.y}}"><view wx:if="{{message.a}}" class="ai-message-wrapper data-v-ea5e20e9"><image src="{{message.b}}" class="message-avatar data-v-ea5e20e9" binderror="{{message.c}}"></image><view class="message-content data-v-ea5e20e9"><view class="message-bubble ai-bubble data-v-ea5e20e9"><view wx:if="{{message.d}}" class="typing-indicator data-v-ea5e20e9"><view class="typing-dot data-v-ea5e20e9"></view><view class="typing-dot data-v-ea5e20e9"></view><view class="typing-dot data-v-ea5e20e9"></view></view><rich-text wx:else nodes="{{message.e}}" class="message-text data-v-ea5e20e9"></rich-text><view wx:if="{{message.f}}" class="message-toolbar data-v-ea5e20e9"><view class="toolbar-btn data-v-ea5e20e9" bindtap="{{message.i}}"><image src="{{message.g}}" class="toolbar-icon data-v-ea5e20e9" binderror="{{message.h}}"></image></view><view class="toolbar-btn data-v-ea5e20e9" bindtap="{{message.l}}"><image src="{{message.j}}" class="toolbar-icon data-v-ea5e20e9" binderror="{{message.k}}"></image></view><view class="toolbar-btn data-v-ea5e20e9" bindtap="{{message.o}}"><image src="{{message.m}}" class="toolbar-icon data-v-ea5e20e9" binderror="{{message.n}}"></image></view></view></view><text class="message-time data-v-ea5e20e9">{{message.p}}</text></view></view><view wx:else class="user-message-wrapper data-v-ea5e20e9"><view class="message-content data-v-ea5e20e9"><view class="message-bubble user-bubble data-v-ea5e20e9"><text class="message-text data-v-ea5e20e9">{{message.q}}</text></view><text class="message-time data-v-ea5e20e9">{{message.r}}</text></view><image src="{{message.s}}" class="message-avatar data-v-ea5e20e9" binderror="{{message.t}}"></image></view></view><view wx:if="{{q}}" class="load-more-section data-v-ea5e20e9"><view class="load-more-btn data-v-ea5e20e9" bindtap="{{t}}"><image src="{{r}}" class="load-more-icon data-v-ea5e20e9" binderror="{{s}}"></image><text class="load-more-text data-v-ea5e20e9">加载更多消息</text></view></view></scroll-view><view class="input-section data-v-ea5e20e9"><view wx:if="{{x}}" class="quick-replies data-v-ea5e20e9"><scroll-view class="quick-reply-scroll data-v-ea5e20e9" scroll-x><view class="quick-reply-container data-v-ea5e20e9"><view wx:for="{{y}}" wx:for-item="reply" wx:key="b" class="quick-reply-item data-v-ea5e20e9" bindtap="{{reply.c}}"><text class="quick-reply-text data-v-ea5e20e9">{{reply.a}}</text></view></view></scroll-view></view><view class="input-wrapper data-v-ea5e20e9"><view class="input-container data-v-ea5e20e9"><view class="extra-actions data-v-ea5e20e9"><view class="action-btn voice-btn data-v-ea5e20e9" bindtap="{{B}}"><image src="{{z}}" class="action-icon data-v-ea5e20e9" binderror="{{A}}"></image></view><view class="action-btn image-btn data-v-ea5e20e9" bindtap="{{E}}"><image src="{{C}}" class="action-icon data-v-ea5e20e9" binderror="{{D}}"></image></view></view><block wx:if="{{r0}}"><textarea placeholder="输入您想了解的鸟类问题..." placeholder-class="input-placeholder" class="text-input data-v-ea5e20e9" auto-height="{{true}}" maxlength="{{500}}" bindinput="{{F}}" bindfocus="{{G}}" bindblur="{{H}}" bindconfirm="{{I}}" value="{{J}}"></textarea></block><view class="{{['send-btn', 'data-v-ea5e20e9', M && 'send-btn-active']}}" bindtap="{{N}}"><image src="{{K}}" class="send-icon data-v-ea5e20e9" binderror="{{L}}"></image></view></view><view wx:if="{{O}}" class="char-count data-v-ea5e20e9"><text class="char-count-text data-v-ea5e20e9">{{P}}/500</text></view></view></view><view wx:if="{{Q}}" class="voice-modal data-v-ea5e20e9"><view class="voice-content data-v-ea5e20e9"><view class="voice-animation data-v-ea5e20e9"><view class="{{['voice-circle', 'data-v-ea5e20e9', R && 'voice-active']}}"></view><image src="{{S}}" class="voice-icon data-v-ea5e20e9" binderror="{{T}}"></image></view><text class="voice-text data-v-ea5e20e9">{{U}}</text><view class="voice-actions data-v-ea5e20e9"><view class="voice-cancel data-v-ea5e20e9" bindtap="{{V}}">取消</view><view class="voice-confirm data-v-ea5e20e9" bindtap="{{W}}">确认</view></view></view></view></view>