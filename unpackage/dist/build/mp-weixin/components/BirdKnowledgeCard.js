"use strict";const t=require("../common/vendor.js"),a={__name:"BirdKnowledgeCard",props:{birdData:{type:Object,required:!0},isActive:{type:Boolean,default:!1}},emits:["like","share"],setup(a,{emit:e}){const i=a,s=e,c=t.ref(!1),n=t.ref(!1),o="https://birdfront-oss.oss-cn-shanghai.aliyuncs.com",r=(t,a="icon")=>{if(!t)return"";const e=t.startsWith("/")?t.slice(1):t;let i="";switch(a){case"icon":default:i="?x-oss-process=image/resize,m_lfit,w_64,h_64/quality,q_90";break;case"small":i="?x-oss-process=image/resize,m_lfit,w_150,h_150/quality,q_90";break;case"medium":i="?x-oss-process=image/resize,m_lfit,w_300,h_300/quality,q_85";break;case"large":i="?x-oss-process=image/resize,m_lfit,w_600,h_600/quality,q_85"}return`${o}/${e}${i}`},u=t.computed((()=>r(i.birdData.imageUrl,"large"))),d=t.computed((()=>{const t=c.value?"static/icons/heart-filled.png":"static/icons/heart.png";return r(t,"icon")})),l=t.computed((()=>r("static/icons/share.png","icon"))),p=t.computed((()=>r("static/icons/habitat.png","icon"))),b=t.computed((()=>r("static/icons/size.png","icon"))),m=t.computed((()=>r("static/icons/weight.png","icon"))),v=t.computed((()=>r("static/icons/wingspan.png","icon"))),g=t.computed((()=>r("static/icons/diet.png","icon"))),h=t.computed((()=>r("static/icons/behavior.png","icon"))),_=t.computed((()=>r("static/icons/distribution.png","icon"))),f=t.computed((()=>r("static/icons/conservation.png","icon"))),D=t.computed((()=>r("static/icons/sound.png","icon"))),w=t.computed((()=>r("static/icons/play.png","icon"))),q=t.computed((()=>r("static/icons/lifespan.png","icon"))),x=()=>{n.value=!0},y=()=>{console.error("鸟类图片加载失败")},k=()=>{c.value=!c.value,s("like",i.birdData),t.index.vibrateShort()},z=()=>{s("share",i.birdData)},S=()=>{t.index.showToast({title:"播放鸟鸣声",icon:"none"}),t.index.vibrateShort()};return(e,i)=>{return{a:u.value,b:t.o(x),c:t.o(y),d:t.t(a.birdData.name),e:t.t(a.birdData.scientificName),f:d.value,g:t.o(k),h:c.value?1:"",i:l.value,j:t.o(z),k:p.value,l:t.t(a.birdData.habitat),m:b.value,n:t.t(a.birdData.size),o:m.value,p:t.t(a.birdData.weight),q:v.value,r:t.t(a.birdData.wingspan),s:t.f(a.birdData.characteristics.slice(0,4),((a,e,i)=>({a:t.t(a),b:e,c:.1*e+"s"}))),t:g.value,v:t.t(a.birdData.diet),w:h.value,x:t.t(a.birdData.behavior),y:t.f(a.birdData.funFacts.slice(0,2),((a,e,i)=>({a:t.t(e+1),b:t.t(a),c:e,d:.15*e+"s"}))),z:_.value,A:t.t(a.birdData.distribution),B:f.value,C:t.t(a.birdData.conservationStatus),D:t.n((s=a.birdData.conservationStatus,{"无危":"status-safe","近危":"status-near-threatened","易危":"status-vulnerable","濒危":"status-endangered","极危":"status-critical"}[s]||"status-unknown")),E:D.value,F:t.t(a.birdData.callDescription),G:w.value,H:t.o(S),I:q.value,J:t.t(a.birdData.lifespan),K:a.isActive?1:""};var s}}},e=t._export_sfc(a,[["__scopeId","data-v-9b593f17"]]);wx.createComponent(e);
