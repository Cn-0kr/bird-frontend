"use strict";const e=require("../common/vendor.js"),a={__name:"tabbar",setup(a){const o=e.ref("/pages/HomePage/HomePage"),t="https://birdfront-oss.oss-cn-shanghai.aliyuncs.com",c=e.reactive([{pagePath:"/pages/HomePage/HomePage",text:"é¦–é¡µ",iconPath:"static/icons/home.png",selectedIconPath:"static/icons/home-active.png",fallbackIcon:"ğŸ ",iconError:!1},{pagePath:"/pages/MapPage/MapPage",text:"åœ°å›¾",iconPath:"static/icons/map.png",selectedIconPath:"static/icons/map-active.png",fallbackIcon:"ğŸ—ºï¸",iconError:!1},{pagePath:"/pages/UploadPage/UploadPage",text:"ä¸Šä¼ ",iconPath:"static/icons/upload.png",selectedIconPath:"static/icons/upload-active.png",fallbackIcon:"ğŸ“¤",iconError:!1},{pagePath:"/pages/ProfilePage/ProfilePage",text:"æˆ‘çš„",iconPath:"static/icons/profile.png",selectedIconPath:"static/icons/profile-active.png",fallbackIcon:"ğŸ‘¤",iconError:!1}]),n=(e,a)=>((e,a="icon")=>{if(!e)return"";const o=e.startsWith("/")?e.slice(1):e;let c="";switch(a){case"icon":default:c="?x-oss-process=image/resize,m_lfit,w_48,h_48/quality,q_90";break;case"small-icon":c="?x-oss-process=image/resize,m_lfit,w_32,h_32/quality,q_90"}return`${t}/${o}${c}`})(a?e.selectedIconPath:e.iconPath,"small-icon");return e.onMounted((()=>{(()=>{try{const e=getCurrentPages();if(e&&e.length>0){const a=e[e.length-1].route,t=c.find((e=>{const o=e.pagePath.replace(/^\//,"");return a===o}));t&&(o.value=t.pagePath)}}catch(e){console.warn("è·å–å½“å‰é¡µé¢è·¯å¾„å¤±è´¥:",e),o.value="/pages/HomePage/HomePage"}})(),console.log("TabBarç»„ä»¶å·²æŒ‚è½½ï¼Œå½“å‰è·¯å¾„:",o.value)})),(a,t)=>({a:e.f(c,((a,t,c)=>e.e({a:!a.iconError},a.iconError?{e:e.t(a.fallbackIcon),f:o.value===a.pagePath?1:""}:{b:n(a,o.value===a.pagePath),c:e.o((e=>(e=>{console.warn("æ ‡ç­¾æ å›¾æ ‡åŠ è½½å¤±è´¥:",e.text),e.iconError=!0})(a)),t),d:e.o((e=>(e=>{console.log("æ ‡ç­¾æ å›¾æ ‡åŠ è½½æˆåŠŸ:",e.text),e.iconError=!1})(a)),t)},{g:e.t(a.text),h:t,i:o.value===a.pagePath?1:"",j:e.o((t=>(a=>{o.value=a;try{e.index.vibrateShort({type:"light"})}catch(t){console.warn("è§¦è§‰åé¦ˆä¸æ”¯æŒ:",t)}e.index.switchTab({url:a,success:()=>{console.log("åˆ‡æ¢åˆ°:",a)},fail:o=>{console.error("é¡µé¢è·³è½¬å¤±è´¥:",o),e.index.navigateTo({url:a,fail:a=>{console.error("å¯¼èˆªå¤±è´¥:",a),e.index.showToast({title:"é¡µé¢è·³è½¬å¤±è´¥",icon:"none"})}})}})})(a.pagePath)),t)})))})}},o=e._export_sfc(a,[["__scopeId","data-v-53cc0b36"]]);wx.createComponent(o);
